function delete_record(t,e,a,n){swal({title:"Are you sure?",text:"you want to delete?",type:"warning",showCancelButton:!0,closeOnConfirm:!1,confirmButtonText:"Yes, Delete it!",confirmButtonColor:"#ec6c62"},function(){$.ajax({url:"/divinegraceschool/admin/delete",data:{id:t,tablename:a,columname:n},type:"POST",success:function(t){console.log(t),swal("Done!","It was succesfully deleted!","success"),$("#tr_"+e).remove()},error:function(t,e,a){swal("Error deleting!","Please try again","error")}})})}function delete_event_record(t,e,a,n){swal({title:"Are you sure?",text:"you want to delete?",type:"warning",showCancelButton:!0,closeOnConfirm:!1,confirmButtonText:"Yes, Delete it!",confirmButtonColor:"#ec6c62"},function(){$.ajax({url:"/divinegraceschool/admin/delete",data:{id:t,tablename:a,columname:n},type:"POST",success:function(t){console.log(t),swal("Done!","It was succesfully deleted!","success"),$("#event_"+e).remove()},error:function(t,e,a){swal("Error deleting!","Please try again","error")}})})}function delete_slider_record(t,e,a,n){swal({title:"Are you sure?",text:"you want to delete?",type:"warning",showCancelButton:!0,closeOnConfirm:!1,confirmButtonText:"Yes, Delete it!",confirmButtonColor:"#ec6c62"},function(){$.ajax({url:"/divinegraceschool/admin/delete",data:{id:t,tablename:a,columname:n},type:"POST",success:function(t){console.log(t),swal("Done!","It was succesfully deleted!","success"),$("#slider_"+e).remove()},error:function(t,e,a){swal("Error deleting!","Please try again","error")}})})}function delete_gallery_record(t,e,a,n){swal({title:"Are you sure?",text:"you want to delete?",type:"warning",showCancelButton:!0,closeOnConfirm:!1,confirmButtonText:"Yes, Delete it!",confirmButtonColor:"#ec6c62"},function(){$.ajax({url:"/divinegraceschool/admin/delete",data:{id:t,tablename:a,columname:n},type:"POST",success:function(t){console.log(t),swal("Done!","It was succesfully deleted!","success"),$("#gallery_"+e).remove()},error:function(t,e,a){swal("Error deleting!","Please try again","error")}})})}function get_all_data(t){var e=t;$.ajax({url:"/divinegraceschool/admin/getAllData",method:"GET",dataType:"json",data:{class_id:e},success:function(t){for(var a=t.section_list,n=t.subject_list,o='<option value="">-- Select Section --</option>',s=0;s<a.length;s++)o+='<option value="'+a[s].section_id+'">'+a[s].section_name+"</option>";$("#section_id").html(""),$("#section_id").html(o);for(o='<option value="">-- Select subject --</option>',s=0;s<n.length;s++)o+='<option value="'+n[s].subject_id+'">'+n[s].name+"</option>";$("#subject_id").html(""),$("#subject_id").html(o),get_teacherlist(e)},error:function(){alert("error")}})}function get_all_exam_data(t){var e=t,a=$("#class_id").val();$.ajax({url:"/divinegraceschool/admin/getAllExamData",method:"GET",dataType:"json",data:{class_id:a,section_id:e},success:function(t){for(var e=t.subject_list,n=(t.exam_list,'<option value="">--subject--</option>'),o=0;o<e.length;o++)n+='<option data-value="'+e[o].subject_type+'" value="'+e[o].subject_id+'">'+e[o].name+"</option>";$("#subject_id").html(""),$("#subject_id").html(n),get_all_exam_name(a)},error:function(){alert("error")}})}function get_all_exam_name(t){var e=t;$.ajax({url:"/divinegraceschool/admin/getAllExamName",method:"GET",dataType:"json",data:{class_id:e},success:function(t){for(var e=t.exam_list,a='<option value="">--Exam--</option>',n=0;n<e.length;n++)a+='<option value="'+e[n].exam_id+'">'+e[n].exam_name+"</option>";$("#exam_id").html(""),$("#exam_id").html(a)},error:function(){alert("error")}})}function get_scheduled_exam(){var t=$("#class_id").val(),e=$("#exam_section_id").val(),a=$("#subject_id").val();e=$("#exam_section_id").val();$.ajax({url:"/divinegraceschool/admin/getSecheduledExamName",method:"GET",dataType:"json",data:{class_id:t,section_id:e,subject_id:a,section_id:e},success:function(t){var e=t.exam_list,a='<option value="">--Exam--</option>';if($("#exam_id").html(""),e.length>0)for(var n=0;n<e.length;n++)a+='<option data-value="'+e[n].exam_code+'" value="'+e[n].exam_id+'">'+e[n].exam_name+"</option>";$("#subject_type").val($("#subject_id option:selected").attr("data-value")),$("#exam_id").html(""),$("#exam_id").html(a)},error:function(){alert("error")}})}function get_marks_exam_list(){var t=$("#class_id").val(),e=$("#section_id").val();$.ajax({url:"/divinegraceschool/admin/getMarksExamNameList",method:"GET",dataType:"json",data:{class_id:t,section_id:e},success:function(t){var e=t.exam_list,a='<option value="">--Exam--</option>';if($("#exam_id").html(""),e.length>0)for(var n=0;n<e.length;n++)a+='<option data-value="'+e[n].exam_code+'" value="'+e[n].exam_id+'">'+e[n].exam_name+"</option>";$("#exam_id").html(""),$("#exam_id").html(a)},error:function(){alert("error")}})}function get_tabulate_exam_marks(){var t=$("#class_id").val(),e=$("#section_id").val(),a=$("#exam_id").val(),n=$("#exam_id option:selected").attr("data-value"),o=$("#class_id").find(":selected").text(),s=$("#section_id").find(":selected").text();$("#tabulation_thead tbody").html(""),$("#tabulation_table thead").html(""),$.ajax({url:"/divinegraceschool/admin/getTabulateMarksList",method:"GET",dataType:"json",data:{class_id:t,section_id:e,exam_id:a,exam_code:n},success:function(n){var d=n.tabulation_list,i=n.gradelist;if($(".tabulation_table tbody").html(""),$(".tabulation_table thead").html(""),dynamicheader="",dynamictbody="",studentinfo="",d.length>0){dynamicheader="<tr><th>Admission Number</th><th>Student NAME</th>";for(var r=0;r<d.length;r++){total=0,count=r+1,dynamictbody+="<tr><td>"+d[r].admission_number+"</td><td>"+d[r].student_name+"</td>",marksheetstr=d[r].marksheet,singlesubject=marksheetstr.split("^");for(var l=0;l<singlesubject.length;l++){for(subjectmasrk=singlesubject[l].split("="),subject_name=subjectmasrk[0],marks=subjectmasrk[1],json=JSON.parse(marks),keys=Object.keys(json),mydata="'"+JSON.stringify(keys)+"'",subjecttotal=0,k=0;k<keys.length;k++)subjecttotal+=json[keys[k]],total+=json[keys[k]];0==r&&(dynamicheader+="<th>"+subject_name+"</th>"),dynamictbody+="<td>"+subjecttotal+"</td>"}averagemarks=total/l;for(var c=0;c<i.length;c++){i[c].student_name;from=i[c].mark_from,upto=i[c].mark_upto,averagemarks>=from&&averagemarks<=upto&&(grade=i[c].name)}dynamictbody+="<td>"+total+"</td>",dynamictbody+="<td>"+grade+"</td>",code="'"+d[r].exam_code+"'",classname="'"+o+"'",sectionname="'"+s+"'",student_name="'"+d[r].student_name+"'","SM1"==d[r].exam_code||"SM2"==d[r].exam_code?dynamictbody+='<td><a href="#"  onclick="Summative('+d[r].student_id+","+t+","+e+","+a+","+code+","+student_name+","+classname+","+sectionname+')">view</a></td></tr>':dynamictbody+='<td><a href="#"  onclick="Formative('+d[r].student_id+","+t+","+e+","+a+","+code+","+student_name+","+classname+","+sectionname+')">view</a></td></tr>'}dynamicheader+="<th>Total</th><th>Grade</th><th>Action</th></tr>"}$("#tabulationsheet").show(),$(".tabulation_table thead").append(dynamicheader),$(".tabulation_table tbody").append(dynamictbody)},error:function(){alert("error")}})}function getSubject(t){var e=t;$.ajax({url:"/divinegraceschool/admin/getAllData",method:"GET",dataType:"json",data:{class_id:e},success:function(t){for(var e=t.subject_list,a='<option value="">-- Select subject --</option>',n=0;n<e.length;n++)a+='<option value="'+e[n].subject_id+'">'+e[n].name+"</option>";$("#subject_id").html(""),$("#subject_id").html(a)},error:function(){alert("error")}})}function getsubteacher(t){var e=$("#class_routin_section").val(),a=$("#class_id").val();t=t;return""==a?(alert("please select Class"),!1):""==e?(alert("please select Section"),!1):void $.ajax({url:"/divinegraceschool/admin/getsubjTeach",method:"GET",dataType:"json",data:{class_id:a,section_id:e,day:t},success:function(t){var e=t.subject_list;if($(".routineTable tbody").html(""),$("#subjectTable tbody").html(""),e.length>0){for(var a=0;a<e.length;a++){var n=e[a].teacher,o=a+1;mytable="'tbl_class_routine'",field="'class_routine_id'",0==n.length?$(".routineTable tbody").append('<tr id="tr_'+a+'"><td>'+o+"</td><td>"+e[a].name+'</td><td><input type="hidden" Class="form_control" name="subject_id"  id="subject_id" value="'+e[a].subject_id+'" disabled="disabled"><select  class="form-control" id="teacher_id_'+a+'" name="teacher_id"  disabled="disabled"><option value="">Select Teacher</option></select></td><td><select id="starting_hour'+a+'" name="time_start" class="form-control time"   disabled="disabled"><option value="" >Hour</option></select><select id="starting_minute'+a+'" name="time_start_min" class="form-control time"  disabled="disabled"><option value=""  >Minute</option></select><select name="starting_ampm" id="starting_ampm" class="form-control time"  disabled="disabled"><option value="1">am</option><option value="2">pm</option></select></td><td><select id="end_hour'+a+'" name="time_end" class="form-control time"  disabled="disabled"><option value="" >Hour</option></select><select id="end_minute'+a+'" name="time_end_min" class="form-control time"  disabled="disabled"><option value="" >Minute</option></select><select name="end_ampm" id="end_ampm" class="form-control time"  disabled="disabled"><option value="1">am</option><option value="2">pm</option></select></td><td><a class="btn btn-success mr-2" href="/divinegraceschool/admin/classRoutineClone/?class_routine_id='+e[a].class_routine_id+'" > Copy</a></a><a href="#" onclick="delete_record('+e[a].class_routine_id+","+a+","+mytable+","+field+')"><button type="button" class="btn btn-danger btn-fw"><i class="mdi mdi-alert-outline"></i>Delete</button></a></td></tr>'):$(".routineTable tbody").append('<tr id="tr_'+a+'"><td>'+o+"</td><td>"+e[a].name+'</td><td><input type="hidden" Class="form_control" name="subject_id"  id="subject_id" value="'+e[a].subject_id+'"><select class="form-control" id="teacher_id_'+a+'" name="teacher_id" onchange="onteacherselect(this.value,'+a+')" ><option value="">Select Teacher</option></select><input type="hidden" value="" id="teacherid_'+a+'"> </td><td><select id="starting_hour'+a+'" name="time_start" class="form-control time" onchange="checkteacherselect('+a+')"><option value="">Hour</option></select><select id="starting_minute'+a+'" name="time_start_min" class="form-control time" onchange="checkteacherselect('+a+')"><option value="">Minute</option></select><select name="starting_ampm" id="starting_ampm'+a+'" class="form-control time" onchange="checkteacherselect('+a+')"></select></td><td><select id="end_hour'+a+'" name="time_end" class="form-control time" onchange="checkteacherselect('+a+')"><option value="">Hour</option></select><select id="end_minute'+a+'" name="time_end_min" class="form-control time" onchange="checkteacherselect('+a+')"><option value="">Minute</option></select><select id="end_ampm'+a+'"name="end_ampm" id="end_ampm" class="form-control time"onchange="checkteacherselect('+a+')"></select></td><td><a class="btn btn-success mr-2" href="/divinegraceschool/admin/classRoutineClone/?class_routine_id='+e[a].class_routine_id+'" > Copy</a><a href="#" onclick="delete_record('+e[a].class_routine_id+","+a+","+mytable+","+field+')"><button type="button" class="btn btn-danger btn-fw"><i class="mdi mdi-alert-outline"></i>Delete</button></a></td></tr>');for(var s=0;s<n.length;s++)n[s].registration_id==e[a].routed_teacher_id?$("#teacher_id_"+a).append('<option  selected value="'+n[s].registration_id+'">'+n[s].name+"</option>"):$("#teacher_id_"+a).append('<option  value="'+n[s].registration_id+'">'+n[s].name+"</option>");for(var d=0;d<=12;d++)d==e[a].routed_time_start?$("#starting_hour"+a).append('<option selected  value="'+d+'">'+d+"</option>"):$("#starting_hour"+a).append('<option  value="'+d+'">'+d+"</option>"),d==e[a].routed_time_end?$("#end_hour"+a).append('<option  selected value="'+d+'">'+d+"</option>"):$("#end_hour"+a).append('<option value="'+d+'">'+d+"</option>");for(var i=0;i<=11;i++)5*i==e[a].routed_time_start_min?$("#starting_minute"+a).append('<option selected value="'+5*i+'">'+5*i+"</option>"):$("#starting_minute"+a).append('<option value="'+5*i+'">'+5*i+"</option>"),5*i==e[a].routed_time_end_min?$("#end_minute"+a).append('<option selected value="'+5*i+'">'+5*i+"</option>"):$("#end_minute"+a).append('<option value="'+5*i+'">'+5*i+"</option>");1==e[a].routed_starting_ampm?$("#starting_ampm"+a).append('<option selected value="1">am</option>'):$("#starting_ampm"+a).append('<option value="1">am</option>'),2==e[a].routed_starting_ampm?$("#starting_ampm"+a).append('<option selected value="2">pm</option>'):$("#starting_ampm"+a).append('<option value="2">pm</option>'),1==e[a].routed_end_ampm?$("#end_ampm"+a).append('<option selected value="1">am</option>'):$("#end_ampm"+a).append('<option value="1">am</option>'),2==e[a].routed_end_ampm?$("#end_ampm"+a).append('<option selected value="2">pm</option>'):$("#end_ampm"+a).append('<option value="2">pm</option>')}$(".routineTable").DataTable()}else $(".routineTable tbody").append("<tr><td>NO DATA FOUND<td></tr>");$("#classroutine").show()},error:function(){alert("error")}})}function getStudentAttendence(t){date=t.split("-");t=date[2]+"-"+date[1]+"-"+date[0];var e=$("#class_id").val(),a=$("#section_id").val(),n=$("#class_id").find(":selected").text(),o=$("#section_id").find(":selected").text();return""==e?(alert("Please select class"),!1):""==a?(alert("Please select section"),!1):void $.ajax({url:"/divinegraceschool/admin/getStudentAttendence",method:"GET",dataType:"json",data:{class_id:e,section_id:a,attendence_date:t},success:function(t){$("#attendence tbody").html("");for(var e=0;e<t.length;e++){var a=e+1;console.log(t.attendence),void 0==t[e].attendence||0==t[e].attendence?$("#attendence tbody").append("<tr><td>"+a+"</td><td>"+t[e].admission_number+'</td><td><input type="hidden" value="'+n+'" name="class_name"><input type="hidden" value="'+o+'" name="section_name"><input type="hidden" value="'+t[e].name+'" name="studentname"><input type="hidden" value="'+t[e].parent_id+'" name="parent_id">'+t[e].name+'</td><td><input type="hidden"  name="student_id"   value="'+t[e].registration_id+'"><select class="form-control select" id="status" name="status"><option value="0">Select Attendence</option><option value="1">Present</option><option value="2">Absent</option></select></td></tr>'):1==t[e].attendence?$("#attendence tbody").append("<tr><td>"+a+"</td><td>"+t[e].admission_number+'</td><td><input type="hidden" value="'+n+'" name="class_name"><input type="hidden" value="'+o+'" name="section_name"><input type="hidden" value="'+t[e].name+'" name="studentname"><input type="hidden" value="'+t[e].parent_id+'" name="parent_id">'+t[e].name+'</td><td><input type="hidden"  name="student_id"   value="'+t[e].registration_id+'"><select class="form-control select" id="status" name="status"><option value="0">Select Attendence</option><option value="1" selected>Present</option><option value="2">Absent</option></select></td></tr>'):2==t[e].attendence&&$("#attendence tbody").append("<tr><td>"+a+"</td><td>"+t[e].admission_number+'</td><td><input type="hidden" value="'+n+'" name="class_name"><input type="hidden" value="'+o+'" name="section_name"><input type="hidden" value="'+t[e].name+'" name="studentname"><input type="hidden" value="'+t[e].parent_id+'" name="parent_id">'+t[e].name+'</td><td><input type="hidden"  name="student_id"   value="'+t[e].registration_id+'"><select class="form-control select" id="status" name="status"><option value="0">Select Attendence</option><option value="1" >Present</option><option value="2" selected>Absent</option></select></td></tr>')}$(".table1").DataTable(),$("#attendenceTable").show()},error:function(){alert("error")}})}function getTeacherAttendence(t){t=t;console.log(),$.ajax({url:"/divinegraceschool/admin/getTeacherAttendence",method:"GET",dataType:"json",cache:!0,data:{attendence_date:t},success:function(t){console.log(t),$("#teacherattendence tbody").html("");for(var e=0;e<t.length;e++){var a=e+1;console.log(t.attendence),void 0==t[e].attendence||0==t[e].attendence?$("#teacherattendence tbody").append("<tr><td>"+a+'</td><td><input type="hidden" value="'+t[e].name+'" name="teachername">'+t[e].name+'</td><td><input type="hidden"  name="teacher_id"   value="'+t[e].registration_id+'"><select class="form-control select" id="status" name="teacher_status"><option value="0">Select Attendence</option><option value="1">Present</option><option value="2">Absent</option></select></td></tr>'):1==t[e].attendence?$("#teacherattendence tbody").append("<tr><td>"+a+'</td><td><input type="hidden" value="'+t[e].name+'" name="teachername">'+t[e].name+'</td><td><input type="hidden"  name="teacher_id"   value="'+t[e].registration_id+'"><select class="form-control select" id="status" name="teacher_status"><option value="0">Select Attendence</option><option value="1" selected>Present</option><option value="2">Absent</option></select></td></tr>'):2==t[e].attendence&&$("#teacherattendence tbody").append("<tr><td>"+a+'</td><td><input type="hidden" value="'+t[e].name+'" name="teachername">'+t[e].name+'</td><td><input type="hidden"  name="teacher_id"   value="'+t[e].registration_id+'"><select class="form-control select" id="status" name="teacher_status"><option value="0">Select Attendence</option><option value="1" >Present</option><option value="2" selected>Absent</option></select></td></tr>')}$(".table1").DataTable(),$("#teacherattendenceTable").show()},error:function(){alert("error")}})}function setStatus(t){return $(".select").each(function(){$(this).val(t)}),!1}function get_student_detail(){var t=$("#class_id").val(),e=$("#exam_section_id").val(),a=$("#subject_id").val(),n=$("#subject_id").find(":selected").attr("data-value"),o=$("#exam_id").val(),s=$("#exam_id").find(":selected").attr("data-value");return""==t?(alert("Please select class"),!1):""==e?(alert("Please select section"),!1):""==a?(alert("Please select subject"),!1):""==o?(alert("Please select exam"),!1):void $.ajax({url:"/divinegraceschool/admin/getStudentAllDetail",method:"GET",dataType:"json",data:{class_id:t,section_id:e,subject_id:a,exam_id:o,subject_type:n,exam_code:s},success:function(t){var e=t.student_detail,a=t.total_marks[0].totalmarks;$("#manage_marks tbody").html(""),$("#manage_marks thead").html(""),dynamicdata="",otherdynamicdata="";for(var n=0;n<e.length;n++){var o=n+1,s=e[n].name,d=e[n].marks.comment?e[n].marks.comment:"";if(console.log(e[n].marks),json=JSON.parse(e[n].marks),keys=Object.keys(json),mydata="'"+JSON.stringify(keys)+"'",""!=e[n].marks){if(dynamicheader="",keys.length>0){dynamicheader="<tr><th>#</th><th>Name</th>";var i=0;for(mydata="",k=0;k<keys.length;k++)mydata+=keys[k].replace(/ /g,"_")+"^";for(mydata=mydata.slice(0,-1),k=0;k<keys.length;k++){columname=keys[k].replace(/_/g," "),columname=columname.replace(/-/g,"&"),columname=columname.replace(/percentage/g,"%"),dynamicheader+="<th>"+columname+"</th>",0==k&&(dynamicdata+="<tr><td>"+o+'</td><td><input type="hidden"  name="student_id"  id="student_id_'+e[n].registration_id+'" value="'+e[n].registration_id+'">'+s+"</td>"),i+=Number(json[keys[k]]);var r=(r=keys[k].toString()).replace(/ /g,"_"),l="'"+e[n].registration_id+"'",c="'"+mydata+"'";dynamicdata+='<td><input type="hidden" class="subjectname_'+k+'" name="subjectname" value="'+r+'"><input type="number" class="form-control" name="marks" id="'+r+"_"+e[n].registration_id+'" onblur="check_manage_marks1('+l+","+c+' )" value="'+json[keys[k]]+'"><span id="children_error_'+e[n].registration_id+'" class="error"></span></td>'}dynamicdata+='<td> <input type="hidden"   name="marks_obtained" id="hidden_marks_obtained_'+e[n].registration_id+'" value="'+i+'"><input type="number" class="form-control" name="marks_obtained" disabled value="'+i+'" id="marks_obtained_'+e[n].registration_id+'"><span id="marks_error_'+e[n].registration_id+'"></span></td><span id="marks_error_'+e[n].registration_id+'"></span></td><td><input type="hidden" class="form-control" name="total_marks"  value="'+a+'"><input type="text" class="form-control"  disabled value="'+a+'" name="total_marks" id="total_marks_'+e[n].registration_id+'">'}dynamicheader+="<th>Marks Obtained</th><th>Total Marks</th><th>Comment</th>",dynamicdata+='<td><input type="text" class="form-control" name="comment" value="'+d+'"></td></tr>'}}0==e.length?($("#manage_marks thead").append("<th></th>"),$("#manage_marks tbody").append("<tr><td>No student registered in class</td></tr>")):($("#manage_marks thead").append(dynamicheader),$("#manage_marks tbody").append(dynamicdata)),$("#table_manage").show()},error:function(){alert("error")}})}function check_manage_marks1(t,e){$("#marks_obtained_"+t).val();var a=$("#total_marks_"+t).val();arr=e.split("^"),value=0;var n=0;if(Array.isArray(arr))for(i=0;i<arr.length;i++){value=$("#"+arr[i]+"_"+t).val(),$.isNumeric(value)||(value=0),n+=Number(value),$("#marks_obtained_"+t).val(n),$("#hidden_marks_obtained_"+t).val(n);var o=Number(a)}else{value=$("#"+arr[i]+"_"+t).val(),n+=Number(value),$("#marks_obtained_"+t).val(n);o=Number(a)}/^[0-9]+([,.][0-9]+)?$/g.test(o);n>o?($("#children_error_"+t).text("Please Enter Less Then Total Marks"),$("#"+arr[i]+"_"+t).val("0.00"),$("#"+arr[i]+"_"+t).focus()):$("#children_error_"+t).text("")}function check_manage_marks(t,e,a){if(1==e){var n=$("#children_participation_"+t).val(),o=$("#written_work_"+t).val(),s=$("#project_work_"+t).val(),d=$("#slip_test_"+t).val(),i=($("#marks_obtained_"+t).val(),$("#total_marks_"+t).val());if(!$.isNumeric(n)){$("#children_participation_"+t).val(0);n=0}if(!$.isNumeric(o)){$("#written_work_"+t).val(0);o=0}if(!$.isNumeric(s)){$("#project_work_"+t).val(0);s=0}if(!$.isNumeric(d)){$("#slip_test_"+t).val(0);d=0}var r=Number(n)+Number(o)+Number(s)+Number(d);$("#marks_obtained_"+t).val(r);var l=Number(i);/^[0-9]+([,.][0-9]+)?$/g.test(l)?($("#children_error_"+t).text("Please numric value only"),$("#children_participation_"+t).val("0.00"),$("#children_participation_"+t).focus()):r>l?($("#children_error_"+t).text("Please Enter Less Then Total Marks"),$("#children_participation_"+t).val("0.00"),$("#children_participation_"+t).focus()):$("#children_error_"+t).text("")}else if(2==e){n=$("#children_participation_"+t).val(),o=$("#written_work_"+t).val(),s=$("#project_work_"+t).val(),d=$("#slip_test_"+t).val(),$("#marks_obtained_"+t).val(),i=$("#total_marks_"+t).val();if(!$.isNumeric(n)){$("#children_participation_"+t).val(0);n=0}if(!$.isNumeric(o)){$("#written_work_"+t).val(0);o=0}if(!$.isNumeric(s)){$("#project_work_"+t).val(0);s=0}if(!$.isNumeric(d)){$("#slip_test_"+t).val(0);d=0}r=Number(n)+Number(o)+Number(s)+Number(d);$("#marks_obtained_"+t).val(r),r>(l=Number(i))?($("#written_error_"+t).text("Please Enter Less Then Total Marks"),$("#written_work_"+t).val("0.00"),$("#written_work_"+t).focus()):$("#written_error_"+t).text("")}else if(3==e){n=$("#children_participation_"+t).val(),o=$("#written_work_"+t).val(),s=$("#project_work_"+t).val(),d=$("#slip_test_"+t).val(),$("#marks_obtained_"+t).val(),i=$("#total_marks_"+t).val();if(!$.isNumeric(n)){$("#children_participation_"+t).val(0);n=0}if(!$.isNumeric(o)){$("#written_work_"+t).val(0);o=0}if(!$.isNumeric(s)){$("#project_work_"+t).val(0);s=0}if(!$.isNumeric(d)){$("#slip_test_"+t).val(0);d=0}r=Number(n)+Number(o)+Number(s)+Number(d);$("#marks_obtained_"+t).val(r),r>(l=Number(i))?($("#project_error_"+t).text("Please Enter Less Then Total Marks"),$("#project_work_"+t).val("0.00"),$("#project_work_"+t).focus()):$("#project_error_"+t).text("")}else if(4==e){n=$("#children_participation_"+t).val(),o=$("#written_work_"+t).val(),s=$("#project_work_"+t).val(),d=$("#slip_test_"+t).val(),$("#marks_obtained_"+t).val(),i=$("#total_marks_"+t).val();if(!$.isNumeric(n)){$("#children_participation_"+t).val(0);n=0}if(!$.isNumeric(o)){$("#written_work_"+t).val(0);o=0}if(!$.isNumeric(s)){$("#project_work_"+t).val(0);s=0}if(!$.isNumeric(d)){$("#slip_test_"+t).val(0);d=0}r=Number(n)+Number(o)+Number(s)+Number(d);$("#marks_obtained_"+t).val(r),r>(l=Number(i))?($("#slip_error_"+t).text("Please Enter Less Then Total Marks"),$("#slip_test_"+t).val("0.00"),$("#slip_test_"+t).focus()):$("#slip_error_"+t).text("")}}function get_studentlist(){var t=$("#class_id").find(":selected").val(),e=$("#section_id_stop").find(":selected").val(),a=$("#class_id").find(":selected").text(),n=$("#section_id_stop").find(":selected").text();return""==t?(alert("Please select Class"),!1):""==e?(alert("Please select section"),!1):void $.ajax({url:"/divinegraceschool/admin/classsection_studentList",method:"GET",dataType:"json",data:{class_id:t,section_id:e},success:function(t){if($(".studenttable").show(),$(".studenttablelist").hide(),$(".studentlistTable tbody").html(""),students=t.student_list,tablerow="",students.length>0){mytable="'tbl_registration'",field="'registration_id'";for(var e=0;e<students.length;e++)tablerow+="<tr id=tr_"+e+" ><td>"+e+"</td><td>"+students[e].admission_number+"</td><td>"+students[e].name+"</td><td>"+a+"</td>",tablerow+="<td>"+n+"</td><td>"+students[e].parentname+"</td><td>"+students[e].parentphone+"</td>",tablerow+='<td><a href="/divinegraceschool/admin/Registration?registration_id='+students[e].registration_id+'"><button type="button" class="btn btn-dark btn-fw"><i class="mdi mdi-cloud-download"></i>Edit</button>',tablerow+='</a><a href="#" onclick="delete_record('+students[e].registration_id+","+e+","+mytable+","+field+')"><button type="button" class="btn btn-danger btn-fw"><i class="mdi mdi-alert-outline"></i>Delete</button></a></td></tr>';$(".studentlistTable tbody").append(tablerow),$(".studentlistTable").DataTable()}else $(".studentlistTable tbody").html(""),$(".studentlistTable tbody").append('<tr ><td colspan="8">NO DATA FOUND<td></tr>')},error:function(){alert("error")}})}function get_subjectlist(){var t=$("#classid").find(":selected").val(),e=$("#classid").find(":selected").text();$.ajax({url:"/divinegraceschool/admin/classsection_subjectList",method:"GET",dataType:"json",data:{class_id:t},success:function(t){if($(".subjecttable").show(),$(".subjectlistTable tbody").empty(),subjects=t.subject_list,tablerow="",subjecttype="",mytable="'tbl_subject'",field="'subject_id'",subjects.length>0){for(var a=0;a<subjects.length;a++)subjects[a].subject_type?subjecttype="Main Subject":subjecttype="Other Subject",tablerow+="<tr id=tr_"+a+" ><td>"+(a+1)+"</td><td>"+e+"</td><td>"+subjects[a].name+"</td><td>"+subjecttype+"</td>",tablerow+='<td><a href="/divinegraceschool/admin/Subject?subject_id='+subjects[a].subject_id+'"><button type="button" class="btn btn-dark btn-fw"><i class="mdi mdi-cloud-download"></i>Edit</button>',tablerow+='</a><a href="#" onclick="delete_record('+subjects[a].subject_id+","+a+","+mytable+","+field+')"><button type="button" class="btn btn-danger btn-fw"><i class="mdi mdi-alert-outline"></i>Delete</button></a></td></tr>';$(".subjectlistTable tbody").append(tablerow),$(".subjectlistTable").DataTable()}else console.log("NotFound"),$(".subjectlistTable tbody").html(""),$(".subjectlistTable tbody").append('<tr ><td colspan="8">NO DATA FOUND<td></tr>')},error:function(){alert("error")}})}function get_teacherlist(t){$.ajax({url:"/divinegraceschool/admin/class_teacherList",method:"GET",dataType:"json",data:{class_id:t},success:function(t){if($(".teacherlistTable tbody").empty(),$(".teachertable").show(),teachers=t.assign_list,tablerow="",mytable="'tbl_teacherassignment'",field="'id'",teachers.length>0){for(var e=0;e<teachers.length;e++)tablerow+='<tr id="tr_'+e+'"><td>'+(e+1)+"</td><td>"+teachers[e].class_name+"</td><td>"+teachers[e].section_name+"</td><td>"+teachers[e].subject_name+"</td><td>"+teachers[e].teacher_name+"</td>",tablerow+='<td><a href="/divinegraceschool/admin/AssignTeacher?id='+teachers[e].id+'"><button type="button" class="btn btn-dark btn-fw"><i class="mdi mdi-cloud-download"></i>Edit</button>',tablerow+='</a><a href="#" onclick="delete_record('+teachers[e].id+","+e+","+mytable+","+field+')"><button type="button" class="btn btn-danger btn-fw"><i class="mdi mdi-alert-outline"></i>Delete</button></a></td></tr>';$(".teacherlistTable tbody").append(tablerow)}else console.log("NotFound"),$(".teacherlistTable tbody").html(""),$(".teacherlistTable tbody").append('<tr ><td colspan="8">NO DATA FOUND<td></tr>')},error:function(){alert("error")}})}function getStudentToshift(t){var e=$("#class_id").val(),a=$("#section_id_stop").val();return""==e?(alert("Please select class"),!1):""==a?(alert("Please select section"),!1):void $.ajax({url:"/divinegraceschool/admin/classsection_studentList",method:"GET",dataType:"json",data:{class_id:e,section_id:a},success:function(t){var e=t.student_list;if($(".tableshift tbody").html(""),$("#shiftTable").show(),console.log(e.length),e.length>0){for(var a=0;a<e.length;a++){var n=a+1;$(".tableshift tbody").append("<tr><td>"+n+'&nbsp;<input type="checkbox" value="'+e[a].enroll_id+'" name="enroll_id"></td><td> '+e[a].name+"</td></tr>")}$(".tableshift").DataTable()}else $(".tableshift tbody").append('<tr ><td colspan="2">NO DATA FOUND<td></tr>')},error:function(){alert("error")}})}function getStudentTobonafide(t){var e=$("#class_id").val(),a=$("#section_id_stop").val();return""==e?(alert("Please select class"),!1):""==a?(alert("Please select section"),!1):void $.ajax({url:"/divinegraceschool/admin/All_studentList",method:"GET",dataType:"json",data:{class_id:e,section_id:a},success:function(t){var e=t.student_list;if($(".tableshift tbody").html(""),$("#shiftTable").show(),e.length>0){for(var a=0;a<e.length;a++){var n=a+1,o="";1==e[a].bonafide_status?(o="checked",$link="?registration_id="+e[a].registration_id+"&class_id="+e[a].class_id+"&section_id="+e[a].section_id,$link="#",$(".tableshift tbody").append("<tr><td>"+n+"&nbsp;<input "+o+' type="checkbox" value="'+e[a].enroll_id+'" name="enroll_id"></td> <td> '+e[a].admission_number+"</td><td> "+e[a].name+'</td><td> <input type="button" class="btn btn-primary" onclick="bonafidemodal('+e[a].registration_id+","+e[a].class_id+","+e[a].section_id+')" value="View"></td><td>&nbsp;</td></tr>')):$(".tableshift tbody").append("<tr><td>"+n+"&nbsp;<input "+o+' type="checkbox" value="'+e[a].enroll_id+'" name="enroll_id"></td><td> '+e[a].admission_number+"</td><td> "+e[a].name+'</td><td>&nbsp;</td><td> <input type="button" class="btn btn-primary" onclick="bonafidemodal('+e[a].registration_id+","+e[a].class_id+","+e[a].section_id+')" value="View"></td></tr>')}$(".tableshift").DataTable()}else $(".tableshift tbody").append('<tr ><td colspan="2">NO DATA FOUND<td></tr>');return!1},error:function(){alert("error")}})}function getStudentforpromotion(){var t=$("#class_id").val(),e=$("#section_id").val();return""==t?(alert("Please select class"),!1):""==e?(alert("Please select section"),!1):void $.ajax({url:"/divinegraceschool/admin/classsection_promotion",method:"GET",dataType:"json",data:{class_id:t,section_id:e},success:function(t){student_list=t.student_list,$(".attendence tbody").html("");for(var e=0;e<student_list.length;e++){$(".attendence tbody").append('<tr><td> <input type="checkbox" value="'+student_list[e].enroll_id+'"  name="chk_enroll_id"></td><td > '+student_list[e].admission_number+" </td> <td>"+student_list[e].name+'</td><td> <select class="form-control select" id="session_year" name="session_year"><option value="'+student_list[e].session_year+'">'+student_list[e].session_year+'</option> <option value="'+student_list[e].nextyear+'">'+student_list[e].nextyear+"</option> </select></td></tr>")}$(".attendence").DataTable(),$("#attendenceTable").show()},error:function(){alert("error")}})}function bonafidemodal(t,e,a){var n="";e=$("#class_id").val(),a=$("#section_id_stop").val();$.ajax({url:"/admin/get_bonafidestudentDetail",method:"GET",dataType:"json",data:{class_id:e,section_id:a,registration_id:t},success:function(t){var e=t.student_list;if(console.log(e),$(".book").html(""),e.length>0){for(var a=0;a<e.length;a++){if(bonafidedate="",Adate="",Bdate="",e[a].bonafide_date){parts=e[a].bonafide_date.split("T"),Bpartdate=parts[0].split("-"),Bdate=Bpartdate[0],bonafidedate=Bpartdate[2]+"-"+Bpartdate[1]+"-"+Bpartdate[0],parts=e[a].created_date.split("T"),Apartdate=parts[0].split("-"),Adate=Apartdate[0],admissiondate=Apartdate[2]+"-"+Apartdate[1]+"-"+Apartdate[0];"0000-00-00 00:00:00"==e[a].bonafide_date&&(bonafidedate=moment().format("D MMM, YYYY"))}link="/images/"+e[a].school_logo;var o="";e[a].dob&&(o=e[a].dob),n+='<div class="page" id="print-content"><div class="subpage" style="padding: 0px;">',n+='<div style="width: 15%; height: 100px; float: left; position: relative;"><img style="border-radius: 10px; position: absolute; width: 100px;" src="'+link+'" alt="gffffff"></div>',n+='<div style="width: 85%; float: left;"><h1 style="text-align: center;margin-top: 0; text-transform: uppercase; font-size: 30px; font-weight: 600;">'+e[a].school_name+'</h1><p style="text-align: center; font-size: 21px; line-height: 24px; margin: 0; font-weight: 500;"><span>Rc. No.</span>'+e[a].school_rc_no+", "+e[a].school_address+'   </p><p style="text-align: center; font-size: 20px; font-weight: 600;margin: 0px;">BONAFIDE & CONDUCT CERTIFICATE</p></div>',n+='<div style="clear: both;"></div><br><div style="width: 50%; float: left;margin-bottom: 22px;"><span style="font-size: 14px; font-weight: 500;"> Admission No. </span> <span style="border-bottom: solid 1px #333; width: 180px; display: -webkit-inline-box;">'+e[a].admission_number+" </span></div>",n+='<div style="width: 50%; float: left; text-align: right;"><span style="font-size:14px; font-weight: 500;"> Date. </span>  <span style="border-bottom: solid 1px #333; width: 180px; display: -webkit-inline-box;">'+bonafidedate+"</span></div>",n+='<p style="margin: 5px 0px; line-height: 30px;font-size: 14px;clear:both ">This is to certify that Master/Kumari <span style="border-bottom: solid 1px #333; width: 526px; display: -webkit-inline-box;">&nbsp;&nbsp;'+e[a].name+'</span><br>S/o. D/o. kunmar <span style="border-bottom: solid 1px #333; width: 530px; display: -webkit-inline-box;">&nbsp;&nbsp;'+e[a].parentname+'</span> Is was a Bonafide</p><p style="margin: 5px 0px; line-height: 30px;font-size: 14px;clear:both ">Student of this Institute for the period from <span style="border-bottom: solid 1px #333; width: 210px; display: -webkit-inline-box;">&nbsp;&nbsp;'+Adate+'</span> to <span style="border-bottom: solid 1px #333; width: 200px; display: -webkit-inline-box;">&nbsp;&nbsp;'+Bdate+'</span> Stuyding /Studied in class <span style="border-bottom: solid 1px #333; width: 200px; display: -webkit-inline-box;">&nbsp;&nbsp;'+e[a].class_name+'</span> During the academic year <span style="border-bottom: solid 1px #333; width: 280px; display: -webkit-inline-box;">&nbsp;&nbsp;'+e[a].session_year+'</span> His/Her Date of Birth is <span style="border-bottom: solid 1px #333; width: 180px; display: -webkit-inline-box;">&nbsp;&nbsp;'+e[a].dob+'</span> (in words) <span style="border-bottom: solid 1px #333; width: 358px; display: -webkit-inline-box;">&nbsp; &nbsp;'+o+'</span>   &nbsp; &nbsp; as recorded in our School / Admission Register.</p><p style="margin: 5px 0px; line-height: 30px;font-size: 14px">To the best of my knowledge and belief his / her Conduct is <span style="border-bottom: solid 1px #333; width: 180px; display: -webkit-inline-box;"></span></p>',n+='<div style="clear: both;"></div><br><div style="width: 100%;"><div style="float: right; text-align: center; margin-top: 15px;"><span style="font-size: 30px; font-weight: 600; font-style: italic; color: #333;"> Head of the Institution </span></div></div>',n+="</div></div>",$(".book").append(n)}$("#bonafideModal").modal("show")}else $(".tableshift tbody").append('<tr ><td colspan="2">NO DATA FOUND<td></tr>')},error:function(){alert("error")}})}function get_student_by_class(t){var e=$("#class_id").val();t=t;$.ajax({url:"/divinegraceschool/admin/get_student_by_class_id",method:"GET",dataType:"json",data:{class_id:e,section_id:t},success:function(t){var e=t.student_list;if(console.log(e),$(".book").html(""),e.length>0){for(var a=0;a<e.length;a++){parts=e[a].bonafide_date.split("T"),Bpartdate=parts[0].split("-"),bonafidedate=Bpartdate[2]+"-"+Bpartdate[1]+"-"+Bpartdate[0],parts=e[a].created_date.split("T"),Apartdate=parts[0].split("-"),admissiondate=Apartdate[2]+"-"+Apartdate[1]+"-"+Apartdate[0];"0000-00-00 00:00:00"==e[a].bonafide_date&&(bonafidedate=moment().format("D MMM, YYYY")),link="http://localhost:3000/images/"+e[a].school_logo,modalval+='<div class="page" id="print-content"><div class="subpage" style="padding: 0px;">',modalval+='<div style="width: 15%; height: 100px; float: left; position: relative;"><img style="border-radius: 10px; position: absolute; width: 100px;" src="'+link+'" alt="gffffff"></div>',modalval+='<div style="width: 85%; float: left;"><h1 style="text-align: center;margin-top: 0; text-transform: uppercase; font-size: 30px; font-weight: 600;">'+e[a].school_name+'</h1><p style="text-align: center; font-size: 21px; line-height: 24px; margin: 0; font-weight: 500;"><span>Rc. No.</span>'+e[a].school_rc_no+", "+e[a].school_address+'   </p><p style="text-align: center; font-size: 20px; font-weight: 600;margin: 0px;">BONAFIDE & CONDUCT CERTIFICATE</p></div>',modalval+='<div style="clear: both;"></div><br><div style="width: 50%; float: left;margin-bottom: 22px;"><span style="font-size: 14px; font-weight: 500;"> Admission No. </span> <span style="border-bottom: solid 1px #333; width: 180px; display: -webkit-inline-box;">'+e[a].admission_number+" </span></div>",modalval+='<div style="width: 50%; float: left; text-align: right;"><span style="font-size:14px; font-weight: 500;"> Date. </span>  <span style="border-bottom: solid 1px #333; width: 180px; display: -webkit-inline-box;">'+bonafidedate+"</span></div>",modalval+='<p style="margin: 5px 0px; line-height: 30px;font-size: 14px;clear:both ">This is to certify that Master/Kumari <span style="border-bottom: solid 1px #333; width: 526px; display: -webkit-inline-box;">&nbsp;&nbsp;'+e[a].name+'</span><br>S/o. D/o. kunmar <span style="border-bottom: solid 1px #333; width: 530px; display: -webkit-inline-box;">&nbsp;&nbsp;'+e[a].parentname+'</span> Is was a Bonafide</p><p style="margin: 5px 0px; line-height: 30px;font-size: 14px;clear:both ">Student of this Institute for the period from <span style="border-bottom: solid 1px #333; width: 210px; display: -webkit-inline-box;">&nbsp;&nbsp;'+Adate+'</span> to <span style="border-bottom: solid 1px #333; width: 200px; display: -webkit-inline-box;">&nbsp;&nbsp;'+Bdate+'</span> Stuyding /Studied in class <span style="border-bottom: solid 1px #333; width: 200px; display: -webkit-inline-box;">&nbsp;&nbsp;'+e[a].class_name+'</span> During the academic year <span style="border-bottom: solid 1px #333; width: 280px; display: -webkit-inline-box;">&nbsp;&nbsp;'+e[a].session_year+'</span> His/Her Date of Birth is <span style="border-bottom: solid 1px #333; width: 180px; display: -webkit-inline-box;">&nbsp;&nbsp;'+e[a].dob+'</span> (in words) <span style="border-bottom: solid 1px #333; width: 358px; display: -webkit-inline-box;">&nbsp; &nbsp;'+moment(e[a].dob).format("DD MMM YYYY")+'</span>   &nbsp; &nbsp; as recorded in our School / Admission Register.</p><p style="margin: 5px 0px; line-height: 30px;font-size: 14px">To the best of my knowledge and belief his / her Conduct is <span style="border-bottom: solid 1px #333; width: 180px; display: -webkit-inline-box;"></span></p>',modalval+='<div style="clear: both;"></div><br><div style="width: 100%;"><div style="float: right; text-align: center; margin-top: 15px;"><span style="font-size: 30px; font-weight: 600; font-style: italic; color: #333;"> Head of the Institution </span></div></div>',modalval+="</div></div>",$(".book").append(modalval)}$("#bonafideModal").modal("show")}else $(".tableshift tbody").append('<tr ><td colspan="2">NO DATA FOUND<td></tr>')},error:function(){alert("error")}})}function get_student_by_class_section(t){var e=$("#class_id").val();t=t;$.ajax({url:"/divinegraceschool/admin/get_student_by_class_id",method:"GET",dataType:"json",data:{class_id:e,section_id:t},success:function(t){console.log(t),student_list=t.student_list,$("#student_id").html(""),$("#student_id").append("<option value=>Select Student</option>");for(var e=0;e<student_list.length;e++)$("#student_id").append("<option value="+student_list[e].registration_id+">"+student_list[e].name+"</option>")},error:function(){alert("error")}})}function printDiv(t){console.log(document.getElementById(t).innerHTML);var e=window.open("","PRINT","height=600,width=800");return e.document.write("<html><head><title>BONAFIDE CERTIFICATE</title>"),e.document.write("</head><body >"),e.document.write(document.getElementById(t).innerHTML),e.document.write("</body></html>"),e.document.close(),e.focus(),e.print(),e.close(),!0}function Formative1(t,e,a){e=$("#class_id").val(),a=$("#section_id").val();var n=$("#exam_id").val();t=t;$.ajax({url:"/divinegraceschool/admin/getMarsksheet",method:"GET",dataType:"json",data:{class_id:e,section_id:a,exam_id:n,student_id:t},success:function(t){var e=t.student_list;console.log(t),$(".marksheet").html("dasd"),e.length>0?$("#markseetmodal").modal("show"):$(".tableshift tbody").append('<tr ><td colspan="2">NO DATA FOUND<td></tr>')},error:function(){alert("error")}})}function get_fees_tt(t){t=t;$.ajax({url:"/divinegraceschool/admin/get_fess_tt",method:"GET",dataType:"json",data:{class_id:t},success:function(t){console.log(t);var e=t.type_list,a=t.term_list;$("#fee_type_id").html(""),$("#fee_type_id").append("<option value=''>Select Fees Type</option>");for(var n=0;n<e.length;n++)$("#fee_type_id").append("<option value="+e[n].fee_type_id+">"+e[n].fee_type+"</option>");$("#fees_term_id").html(""),$("#fees_term_id").append("<option value=''>Select Fees Term</option>");for(n=0;n<a.length;n++)$("#fees_term_id").append("<option value="+a[n].term_id+">"+a[n].term_name+"</option>")},error:function(){alert("error")}})}function ajax_get_student_fees(){var t=$("#class_id").val(),e=$("#student_id").val();return""==t?(alert("please select Class first"),!1):""==e?(alert("please select student first"),!1):void $.ajax({url:"/divinegraceschool/admin/ajax_get_student_fees",method:"GET",dataType:"json",data:{class_id:t,student_id:e},success:function(t){console.log(t.total);var e=t.fees_detail,a=t.transport_fees,n=t.fees_receipt,o=t.transport_receipt,s=t.total,d=t.paid,i=(t.fees,t.discount);$("#total").text(s),$("#paid").text(d),$("#discount").text(i),$("#amount").text(parseFloat(s)-parseFloat(d+i)),$("#top_heading").show(),$("#fees_detail_table tbody").html("");for(var r=0;r<e.length;r++){var l=r+1,c=parseFloat(e[r].amount_paid)+parseFloat(e[r].discount);0==(p=parseFloat(e[r].fees_amount)-c)?$("#fees_detail_table tbody").append('<tr><td><input type="checkbox" name="fees_id" value='+e[r].fees_id+" disabled></td><td>"+l+"</td><td>"+e[r].fee_type+"</td><td>"+e[r].term_name+"</td><td>"+e[r].fees_amount+"</td><td>"+e[r].amount_paid+"</td><td>"+e[r].discount+" </td><td>0.00</td><td>Paid</td></tr>"):$("#fees_detail_table tbody").append('<tr><td><input type="checkbox" name="fees_id" value='+e[r].fees_id+"></td><td>"+l+"</td><td>"+e[r].fee_type+"</td><td>"+e[r].term_name+"</td><td>"+e[r].fees_amount+"</td><td>"+e[r].amount_paid+"</td><td>"+e[r].discount+" </td><td>"+p+"</td><td>UnPaid</td></tr>")}if($("#fees_detail").show(),""!=a){$("#transport_fees_table tbody").html("");for(r=0;r<a.length;r++){l=r+1;null==a[r].paid_amount&&(a[r].paid_amount=0),null==a[r].paid_discount&&(a[r].paid_discount=0);var p;c=parseFloat(a[r].paid_amount)+parseFloat(a[r].paid_discount);0==(p=parseFloat(a[r].route_fare)-c)?$("#transport_fees_table tbody").append('<tr><td><input type="checkbox" name="transport_id" value='+a[r].transport_id+" disabled></td><td>"+l+"</td><td>"+a[r].route_name+"</td><td>"+a[r].route_fare+"</td><td>"+a[r].paid_amount+"</td><td>"+a[r].paid_discount+"</td><td>0.00</td><td>Paid</td></tr>"):$("#transport_fees_table tbody").append('<tr><td><input type="checkbox" name="transport_id" value='+a[r].transport_id+"></td><td>"+l+"</td><td>"+a[r].route_name+"</td><td>"+a[r].route_fare+"</td><td>"+a[r].paid_amount+"</td><td>"+a[r].paid_discount+"</td><td>"+p+"</td><td>UnPaid</td></tr>")}$("#transport_fees").show()}if(""!=n){$("#fees_receipt_table tbody").html("");for(r=0;r<n.length;r++){l=r+1;var m=parseFloat(n[r].total_amount)+parseFloat(n[r].total_discount),u="'"+n[r].receipt_number+"'";$("#fees_receipt_table tbody").append("<tr><td>"+l+"</td><td>"+n[r].collected_by+"</td><td>"+n[r].receipt_number+"</td><td>"+m+'</td><td><button onclick="get_receipt_detail('+u+')"><i class="fa fa-eye" aria-hidden="true"></i></button></td></tr>')}$("#fees_receipt").show()}else $("#fees_receipt").hide();if(""!=o){$("#transport_receipt_table tbody").html("");for(r=0;r<o.length;r++){l=r+1;if(null!=o[r].receipt_number){m=parseFloat(o[r].total_amount)+parseFloat(o[r].total_discount),u="'"+o[r].receipt_number+"'";$("#transport_receipt_table tbody").append("<tr><td>"+l+"</td><td>"+o[r].collected_by+"</td><td>"+o[r].receipt_number+"</td><td>"+m+'</td><td><button onclick="get_transport_receipt_detail('+u+')"><i class="fa fa-eye" aria-hidden="true"></i></button></td></tr>')}else $("#transport_receipt").hide()}$("#transport_receipt").show()}else $("#transport_receipt").hide()},error:function(){alert("error")}})}function paid_fees(){var t=[];$.each($("input[name='fees_id']:checked"),function(){t.push($(this).val())});if(""==t)return alert("Please Select Fees To Pay"),!1;var e=$("#student_id").val();$.ajax({url:"/divinegraceschool/admin/get_payment_data",type:"GET",data:{fees:t,user_id:e},success:function(t){var e=t.fees_detail;console.log(t),$("#payment_data").html(""),$("#payment_data").append('<tr><th scope="col">#</th><th scope="col">Fee Type</th><th scope="col">Fee Term</th><th scope="col">Total Fee</th><th scope="col">Amount paid</th><th scope="col">Amount Remaining</th><th scope="col" colspan="2">Payment Type</th><th scope="col">Discount</th><th scope="col">Pay</th></tr>');for(var a=0;a<=e.length-1;a++){var n=a+parseFloat("1"),o=parseFloat(e[a].amount_paid)+parseFloat(e[a].discount),s=parseFloat(e[a].fees_amount)-o;$("#payment_data").append("<tr><td>"+n+"</td><td>"+e[a].fee_type+'<input type="hidden" name="fee_type[]" id="fee_type" value="'+e[a].fee_type+'"></td><td><input type="hidden" name="term_name[]" id="term_name" value='+e[a].term_name+">"+e[a].term_name+"</td><td>"+e[a].fees_amount+"</td><td>"+o+"</td><td>"+s+'</td><td><select name="payment_type[]" id="payment_type_'+e[a].fees_id+'" onChange="payment_type('+e[a].fees_id+')"><option value="cash">Cash</option><option value="dd">DD</option><option value="cheque">Cheque</option></select></td><td><input type="text" name="payment_number[]" id="payment_number_'+e[a].fees_id+'" style="display:none;" placeholder="Enter payment Number"></td><td><input type="text" name="discount[]" min="0" id="discounts_'+e[a].fees_id+'" onblur="discount_validation(this.value,'+e[a].fees_id+')"></td><td><input type="text" name="amount[]" id="amounts_'+e[a].fees_id+'" min="0" onblur="amount_validation(this.value,'+e[a].fees_id+')"><input type="hidden" name="fee_id[]" id="fee_id" value='+e[a].fees_id+'></td><input type="hidden"  id="remaining_amount_'+e[a].fees_id+'" value='+s+"></td></tr></span>"),n++}$("#myModal11").modal("show")}})}function payment_type(t){var e=$("#payment_type_"+t+" option:selected").val();"dd"==e||"cheque"==e?$("#payment_number_"+t).show():$("#payment_number_"+t).hide()}function discount_validation(t,e){$("#discounts_"+e).val($("#discounts_"+e).val().replace(/[^0-9\.]/g,"")),46==event.which&&-1==$("#discounts_"+e).val().indexOf(".")||!(event.which<48||event.which>57)||event.preventDefault();var a=$("#remaining_amount_"+e).val(),n=$("#amounts_"+e).val();if(t<0)return $("#discounts").val(""),!1;if(""==n)n=parseInt("0");var o=parseFloat(t)+parseFloat(n);parseFloat(o)>parseFloat(a)?($("#error").text("you have to pay "+a+"  only"),$("#discounts_"+e).val("")):$("#error").text("")}function amount_validation(t,e){$("#amounts_"+e).val($("#amounts_"+e).val().replace(/[^0-9\.]/g,"")),46==event.which&&-1==$("#amounts_"+e).val().indexOf(".")||!(event.which<48||event.which>57)||event.preventDefault();var a=$("#remaining_amount_"+e).val(),n=$("#discounts_"+e).val();if(console.log("remaining amount",a),""==n)n=parseFloat("0");if(t<0)return $("#amounts").val(""),!1;var o=parseFloat(t)+parseFloat(n);parseFloat(o)>parseFloat(a)?($("#error").text("you have to pay "+a+"  only"),$("#amounts_"+e).val("")):$("#error").text("")}function pay_fees(){var t=$("input[name='fee_id[]']").map(function(){return $(this).val()}).get(),e=$("input[name='amount[]']").map(function(){return $(this).val()}).get(),a=$("input[name='discount[]']").map(function(){return $(this).val()}).get(),n=$("input[name='payment_number[]']").map(function(){return $(this).val()}).get(),o=$("input[name='fee_type[]']").map(function(){return $(this).val()}).get(),s=$("input[name='term_name[]']").map(function(){return $(this).val()}).get(),d=$("#student_id").val(),i=$("select[name='payment_type[]'] option:selected").map(function(){return $(this).val()}).get();console.log(t),console.log(i),console.log(e),console.log(d),$.ajax({url:"/divinegraceschool/admin/pay_fees",type:"GET",data:{fee_id:t,amount:e,discount:a,user_id:d,type:i,payment_number:n,fee_type:o,term_name:s},success:function(t){"1"==t&&($("#myModal11").modal("toggle"),ajax_get_student_fees()),console.log(t)}})}function pay_transport_fees(){if($("input[name='transport_id']:checked").length>0){var t=$("#student_id").val();$.ajax({url:"/divinegraceschool/admin/ajax_get_transport_fees",type:"GET",data:{user_id:t},success:function(t){console.log(t);var e=t.transport_fees;$("#transport_payment_data").html("");for(var a=0;a<=e.length-1;a++){parseFloat("1");var n=parseFloat(e[a].paid_amount)+parseFloat(e[a].paid_discount),o=parseFloat(e[a].route_fare)-n;$("#transport_payment_data ").append('<tr><th scope="col">#</th><th scope="col">Id</th><th scope="col">Fee</th><th scope="col">Total Amount</th><th scope="col">Paid</th><th scope="col">discount</th><th scope="col">Balance</th><th scope="col" colspan="2">Payment Status</th><th scope="col">Discount</th><th scope="col">Pay</th></tr><tr><td></td><td>1</td><td>'+e[a].route_name+"</td><td>"+e[a].route_fare+"</td><td>"+e[a].paid_amount+"</td><td>"+e[a].paid_discount+"</td><td>"+o+'</td><td><select name="transport_type[]" id="transport_type" onChange="transport_type()"><option value="cash">Cash</option><option value="dd">DD</option><option value="cheque">Cheque</option></select></td><td><input type="text" name="transport_number" id="transport_number" style="display:none;" placeholder="Enter payment Number"></td><td><input type="text" name="transport_discount" min="0" id="trasnport_discounts" onblur="transport_discount_validation(this.value)"></td><td><input type="text" name="transport_amount" id="transport_amounts" min="0" onblur="transport_amount_validation(this.value)"><input type="hidden"  id="transport_remaining_amount" value='+o+'></td></tr><span id="transport_error"></span>'),0}$("#transport_model").modal("show")}})}}function transport_amount_validation(t){$("#transport_amounts").val($("#transport_amounts").val().replace(/[^0-9\.]/g,"")),46==event.which&&-1==$("#transport_amounts").val().indexOf(".")||!(event.which<48||event.which>57)||event.preventDefault();var e=$("#transport_remaining_amount").val(),a=$("#trasnport_discounts").val();if(isNaN(a)&&(a=parseFloat("0")),""==a)a=parseFloat("0");if(t<0)return $("#transport_amounts").val(""),!1;var n=parseFloat(t)+parseFloat(a);parseFloat(n)>parseFloat(e)?($("#transport_error").text("you have to pay "+e+"  only"),$("#transport_amounts").val("")):$("#transport_error").text("")}function transport_discount_validation(t){$("#trasnport_discounts").val($("#trasnport_discounts").val().replace(/[^0-9\.]/g,"")),46==event.which&&-1==$("#trasnport_discounts").val().indexOf(".")||!(event.which<48||event.which>57)||event.preventDefault();var e=$("#transport_remaining_amount").val(),a=$("#transport_amounts").val();if(t<0)return $("#trasnport_discounts").val(""),!1;if(""==a)a=parseInt("0");var n=parseFloat(t)+parseFloat(a);parseFloat(n)>parseFloat(e)?($("#transport_error").text("you have to pay "+e+"  only"),$("#trasnport_discounts").val("")):$("#transport_error").text("")}function transport_type(){var t=$("#transport_type option:selected").val();"dd"==t||"cheque"==t?$("#transport_number").show():$("#transport_number").hide()}function insert_transport_fees(){var t=$("#transport_amounts").val(),e=$("#trasnport_discounts").val(),a=$("#student_id").val(),n=$("#transport_type option:selected").val(),o=$("#transport_number").val();$.ajax({url:"/divinegraceschool/admin/insert_transport_payment",type:"GET",data:{amount:t,discount:e,student_id:a,type:n,payment_number:o},success:function(t){""!=t?($("#transport_model").modal("toggle"),ajax_get_student_fees()):$("#error").text("Please enter amount")}})}function receipt_model(t){alert(t)}function get_accounting_type_term(){var t=$("#class_id").val();$("#section_id").val();console.log(t)}function ajax_get_payment_receipt_data(){var t=$("#class_id").val(),e=$("#fees_term_id").val(),a=$("#fee_type_id").val(),n=$("#section_id").val(),o=$("#type").val();if(1==$("#balance").prop("checked"))var s=1;else s=0;if(""==t)return alert("please select class first"),!1;$.ajax({url:"/divinegraceschool/admin/ajax_get_payment_receipt_data",type:"GET",data:{class_id:t,fees_term_id:e,fee_type_id:a,section_id:n,balance:s,type:o},success:function(t){console.log(t);var e=t.fee_payment;if(""!=e){$("#fees_report_table tbody").html("");for(var a=0;a<e.length;a++){var n=a+1;if(null!=e[a]){null==e[a].fees_amount&&(e[a].fees_amount=0),null==e[a].total_amount&&(e[a].total_amount=0),null==e[a].total_discount&&(e[a].total_discount=0);var o=parseFloat(e[a].fees_amount)-(parseFloat(e[a].total_amount)+parseFloat(e[a].total_discount));$("#fees_report_table tbody").append("<tr><td>"+n+"</td><td>"+e[a].admission_number+"</td><td>"+e[a].name+'</td><td style="color:blue;">'+e[a].fees_amount+"</td><td>"+e[a].total_discount+'</td><td style="color:green;">'+e[a].total_amount+"</td><td>"+e[a].payment_date+'</td><td style="color:red;">'+o+"</td></tr>"),$("#fees_report_table").DataTable()}}$("#fees_report").show()}}})}function ajax_get_payment_receipt_data_by_date(){var t=moment($("#from").val()).format("YYYY-MM-DD"),e=moment($("#to").val()).format("YYYY-MM-DD");console.log();var a=$("#fees_type_date").val();if(""==t||""==e)return alert("please select Date"),!1;$.ajax({url:"/divinegraceschool/admin/ajax_get_payment_receipt_data_by_date",type:"GET",data:{from:t,to:e,type:a},success:function(t){console.log(t);var e=t.fee_payment;if(""!=e&&null!=e){$("#fees_report_table tbody").html("");for(var a=0;a<e.length;a++){var n=a+1;if(console.log(e[a]),null!=e[a]){null==e[a].fees_amount&&(e[a].fees_amount=0),null==e[a].total_amount&&(e[a].total_amount=0),null==e[a].total_discount&&(e[a].total_discount=0);var o=parseFloat(e[a].fees_amount)-(parseFloat(e[a].total_amount)+parseFloat(e[a].total_discount));$("#fees_report_table tbody").append("<tr><td>"+n+"</td><td>"+e[a].admission_number+"</td><td>"+e[a].name+'</td><td style="color:blue;">'+e[a].fees_amount+"</td><td>"+e[a].total_discount+'</td><td style="color:green;">'+e[a].total_amount+"</td><td>"+e[a].payment_date+'</td><td style="color:red;">'+o+"</td></tr>"),$("#fees_report_table").DataTable()}}$("#fees_report").show()}}})}function get_receipt_detail(t){t=t;var e=$("#student_id").val();$.ajax({url:"/divinegraceschool/admin/get_receipt_detail",type:"GET",data:{receipt_number:t,student_id:e},success:function(t){console.log(t);var e=t.detail,a=t.school_name,n=t.school_address,o=t.school_number,s=t.logo;if(""!=e){$("#school_name").text(a),$("#school_address").text(n),$("#school_phone").text(o),$("#payment_date").text(e[0]._payment_date),$("#student_name").text(e[0].student_name),$("#parent_name").text(e[0].parent_name),$("#class_name").text(e[0].class_name),$("#section_name").text(e[0].section_name),$("#school_logo").attr("src","../../../images/"+s),$("#receipt_number").text(e[0].receipt_number),$("#fees_student_id").text(e[0].admission_number),$("#fees_receipt_data tbody").html("");for(var d=0,i=0,r=0;r<=e.length-1;r++){var l=r+1,c=parseFloat(e[r].amount)+parseFloat(e[r].discount);$("#fees_receipt_data tbody").append('<tr><td style=" border: 1px solid #cacaca;  padding: 2px!important;" class="bolds">'+l+'</td><td style=" border: 1px solid #cacaca;  padding: 2px!important;" class="bolds">'+e[r].fee_type+'</td><td style=" border: 1px solid #cacaca;  padding: 2px!important;" class="bolds">'+e[r].term_name+'</td><td style=" border: 1px solid #cacaca;  padding: 2px!important;" >'+c+"</td></tr>"),$("#type").text(e[r].type),d+=parseFloat(c)||0,i+=parseFloat(e[r].fees_amount)}var p=i-d;$("#fees_receipt_data tbody").append('<tr><td class="bolds" colspan="3" style=" border: 1px solid #cacaca;  padding: 2px!important;  text-align: center;">Total Amount Paid</td> <td style=" border: 1px solid #cacaca;  padding: 2px!important;">'+d+'</td></tr><tr><td class="bolds" colspan="3" style=" border: 1px solid #cacaca;  padding: 2px!important;  text-align: center;">Overall Due Amount</td> <td style=" border: 1px solid #cacaca;  padding: 2px!important;">'+p+"</td></tr>"),$("#number_word").text(convertNumberToWords(d)),$(".gaurav").show(),$("#fees_receipt_modal").modal("show")}}}),console.log(t)}function get_transport_receipt_detail(t){t=t;var e=$("#student_id").val();$.ajax({url:"/divinegraceschool/admin/get_transport_detail",type:"GET",data:{receipt_number:t,student_id:e},success:function(t){console.log(t);var e=t.detail,a=t.school_name,n=t.school_address,o=t.school_number,s=t.logo;if(""!=e){$("#school_name").text(a),$("#school_address").text(n),$("#school_phone").text(o),$("#payment_date").text(e[0].date),$("#student_name").text(e[0].student_name),$("#parent_name").text(e[0].parent_name),$("#class_name").text(e[0].class_name),$("#section_name").text(e[0].section_name),$("#receipt_number").text(e[0].receipt_number),$("#school_logo").attr("src","../../../images/"+s),$("#fees_student_id").text(e[0].admission_number),$("#fees_receipt_data tbody").html("");for(var d=0,i=0,r=0;r<=e.length-1;r++){var l=r+1,c=parseFloat(e[r].amount)+parseFloat(e[r].discount);$("#fees_receipt_data tbody").append('<tr><td style=" border: 1px solid #cacaca;  padding:15px;" class="bolds">'+l+'</td><td colspan="2" style=" border: 1px solid #cacaca;  padding:15px;" class="bolds">Transport Fees</td><td style=" border: 1px solid #cacaca;  padding:15px;" >'+c+"</td></tr>"),$("#type").text(e[r].type),d+=parseFloat(c)||0,i+=parseFloat(e[r].route_fare)}var p=i-d;$("#fees_receipt_data tbody").append('<tr><td class="bolds" colspan="3" style=" border: 1px solid #cacaca;  padding:15px;  text-align: center;">Total Amount Paid</td> <td style=" border: 1px solid #cacaca;  padding:15px;">'+d+'</td></tr><tr><td class="bolds" colspan="3" style=" border: 1px solid #cacaca;  padding:15px;  text-align: center;">Overall Due Amount</td> <td style=" border: 1px solid #cacaca;  padding:15px;">'+p+"</td></tr>"),$("#number_word").text(convertNumberToWords(d)),$(".gaurav").hide(),$("#fees_receipt_modal").modal("show")}}}),console.log(t)}function Formative(t,e,a,n,o,s,d,i){t=t,e=e,a=a,n=n,d=d,i=i;"FA1"==(o=o)&&$("#formativemodal").append("Formative I"),"FA2"==o&&$("#formativemodal").append("Formative II"),$.ajax({url:"/divinegraceschool/admin/getMarsksheet",method:"GET",dataType:"json",data:{class_id:e,section_id:a,exam_id:n,student_id:t,exam_code:o},success:function(t){var e=t.tabulation_list,a=t.gradelist,n=t.working_days,o=t.present_days;if($("#Formative_modal tbody").html(""),$("#Formative_modal thead").html(""),dynamicheader="",dynamictbody="",e.length>0){$("#studentinfo").empty(),student_info='<div class="row student-info" style="width:100%;"><div class="col-xs-6 col-sm-6" style="width: 50%; float:left;"><p>Name: <b>'+s+'</b></p></div><div class="col-xs-6 col-sm-2" style="width: 20%; float:left;"><p>Class: <b>'+d+' </b></p></div><div class="col-xs-6 col-sm-2"  style="width: 20%; float:left;"><p>Section: <b>'+i+"</b></p></div></div>",$("#studentinfo").append(student_info),dynamicheader='<tr class="aaaaa"><th style="border: 1px solid #903f5f;color: #903f5f;text-align:center;padding: 2px;">Sr.No</th><th style="border: 1px solid #903f5f; color: #903f5f ;text-align:center;padding: 2px;">Subject</th>';for(var r=0,l=0;l<e.length;l++){m=0,count=l+1,marksheetstr=e[l].marksheet,singlesubject=marksheetstr.split("^"),console.log(singlesubject);for(var c=0;c<singlesubject.length;c++){var p=c+1;subjectmasrk=singlesubject[c].split("="),subject_name=subjectmasrk[0],marks=subjectmasrk[1],console.log(marks),json=JSON.parse(marks),r=Object.keys(json),mydata="'"+JSON.stringify(r)+"'",subjecttotal=0,dynamictbody+='<tr style="border: 1px solid #903f5f;color: #903f5f;text-align:center;padding: 2px;"><td style="border: 1px solid #903f5f">'+p+"</td>",dynamictbody+='<td style="border: 1px solid #903f5f;color: #903f5f; text-align:center;padding: 2px;">'+subject_name+"</td>";var m=0;for(k=0;k<r.length;k++)dynamictbody+='<td style="border: 1px solid #903f5f;color: #903f5f;text-align:center;padding: 2px;">'+json[r[k]]+"</td>",m+=json[r[k]];dynamictbody+='<td style="border: 1px solid #903f5f;color: #903f5f;text-align:center;padding: 2px;">'+m+"</td>";var u="";averagemarks=m/singlesubject.length;for(var _=0;_<a.length;_++){a[_].student_name;from=a[_].mark_from,upto=a[_].mark_upto,averagemarks>=from&&averagemarks<=upto&&(u=a[_].name)}dynamictbody+='<td style="border: 1px solid #903f5f;color: #903f5f;text-align:center;padding: 2px;">'+u+"</td></tr>"}if(0==l)for(k=0;k<r.length;k++)dynamicheader+='<th style="border: 1px solid #903f5f;color: #903f5f;text-align:center;padding: 2px;">'+r[k].replace(/_/g," ")+"</th>"}dynamicheader+='<th style="border: 1px solid #903f5f;color: #903f5f;text-align:center;padding: 2px;">Total 20%</th><th style="border: 1px solid #903f5f;color: #903f5f;text-align:center;padding: 2px;">Grade</th></tr>',$("#Formative_modal thead").append(dynamicheader),$("#Formative_modal tbody").append(dynamictbody);var f=[],h=$("#Formative_modal tbody tr ").length,b=(m=$("#Formative_modal tbody tr td").length)/h;$("#Formative_modal tbody tr").each(function(){var t=0;$("td",this).each(function(e,a){1!=e&&0!=e&&e!=b-1&&(f[t]||(f[t]=0),f[t]+=parseInt($(a).text()),t++)})});var v=0,y='<tr><td style="border: 1px solid #903f5f;color: #903f5f;text-align:center;padding: 2px;" colspan=2>Total</td>';for(l=0;l<f.length;++l)y+='<td style="border: 1px solid #903f5f;color: #903f5f;text-align:center;padding: 2px;">'+f[l]+"</td>",v+=f[l];console.log(v);var g="";averagemarks=v/h;for(_=0;_<a.length;_++){a[_].student_name;from=a[_].mark_from,upto=a[_].mark_upto,averagemarks>=from&&averagemarks<=upto&&(g=a[_].name)}y+='<td style="border: 1px solid #903f5f;color: #903f5f;text-align:center;padding: 2px;">'+g+"</td></tr>",$("#total_grade").text(g),$("#working_days").text(n),$("#present_days").text(o),$("#total_working_days").text(n),$("#total_present_days").text(o),$("#Formative_modal tbody").append(y);var x='<tr><td style="border: 1px solid #903f5f;color: #903f5f;text-align:center;padding: 2px;" colspan=2>Grade</td>';for(l=0;l<f.length;++l){u="";averagemarks=f[l]/h;for(_=0;_<a.length;_++){a[_].student_name;from=a[_].mark_from,upto=a[_].mark_upto,averagemarks>=from&&averagemarks<=upto&&(u=a[_].name)}x+='<td style="border: 1px solid #903f5f;color: #903f5f;text-align:center;padding: 2px;">'+u+"</td>"}return x+='<td style="border: 1px solid #903f5f;color: #903f5f;text-align:center;padding: 2px; color: #903f5f"></td></tr>',$("#Formative_modal tbody").append(x),console.log(y),console.log(dynamicheader),console.log(dynamictbody),$("#markseetmodal").modal("show"),!0}$(".tableshift tbody").append('<tr ><td colspan="2">NO DATA FOUND<td></tr>')},error:function(){alert("error")}})}function Summative(t,e,a,n,o,s,d,i){t=t,e=e,a=a,n=n;"SM1"==(o=o)&&$("#summativemodal").append("Summative I"),"SM2"==o&&$("#summativemodal").text("Summative II"),$.ajax({url:"/divinegraceschool/admin/getMarsksheet",method:"GET",dataType:"json",data:{class_id:e,section_id:a,exam_id:n,student_id:t,exam_code:o},success:function(t){var e=t.tabulation_list,a=t.gradelist,n=t.working_days,o=t.present_days;if(console.log(t),$("#Summative_modal tbody").html(""),$("#Summative_modal thead").html(""),dynamicheader="",dynamictbody="",e.length>0){$("#studentinfo1").empty(),student_info='<div class="row student-info" style="width:100%; margin-top: 0px;"><div class="col-xs-6 col-sm-4" style="width: 50%; float: left;"><p style="margin-bottom: 5px;">Name: <b>'+s+'</b></p></div><div class="col-xs-6 col-sm-4" style="width: 20%; float: left;"><p style="margin-bottom: 5px;">Class: <b>'+d+' </b></p></div><div class="col-xs-6 col-sm-4" style="width: 20%; float: left;"><p style="margin-bottom: 5px;">Section: <b>'+i+"</b></p></div></div>",dynamicheader='<tr style="border: 1px solid #903f5f;color: #903f5f;text-align: center;padding: 2px;"><th style="border: 1px solid #903f5f;color: #903f5f;text-align: center;padding: 2px;">Sr.No</th><th style="border: 1px solid #903f5f;color: #903f5f;text-align: center;padding: 2px;">Subject</th>',$("#studentinfo1").append(student_info);for(var r=0,l=0;l<e.length;l++){m=0,count=l+1,marksheetstr=e[l].marksheet,singlesubject=marksheetstr.split("^"),console.log(singlesubject);for(var c=0;c<singlesubject.length;c++){var p=c+1;subjectmasrk=singlesubject[c].split("="),j=subjectmasrk[0],marks=subjectmasrk[1],console.log(marks),json=JSON.parse(marks),r=Object.keys(json),mydata="'"+JSON.stringify(r)+"'",subjecttotal=0,dynamictbody+='<tr style="border: 1px solid #903f5f;color: #903f5f;text-align: center;padding: 2px;"><td style="border: 1px solid #903f5f;color: #903f5f;text-align: center;padding: 2px;">'+p+"</td>",dynamictbody+='<td style="border: 1px solid #903f5f;color: #903f5f;text-align: center;padding: 2px;">'+j+"</td>";var m=0;for(k=0;k<r.length;k++)dynamictbody+='<td style="border: 1px solid #903f5f;color: #903f5f;text-align: center;padding: 2px;">'+json[r[k]]+"</td>",m+=json[r[k]];dynamictbody+='<td style="border: 1px solid #903f5f;color: #903f5f;text-align: center;padding: 2px;">'+m+"</td>";var u="";averagemarks=m/singlesubject.length;for(var _=0;_<a.length;_++){a[_].student_name;from=a[_].mark_from,upto=a[_].mark_upto,averagemarks>=from&&averagemarks<=upto&&(u=a[_].name)}dynamictbody+='<td style="border: 1px solid #903f5f;color: #903f5f;text-align: center;padding: 2px;">'+u+"</td></tr>"}if(0==l)for(k=0;k<r.length;k++){var f=(f=(f=(f=(f=(f=r[k].replace(/_/g," ")).replace("-","&")).replace("percentage","%")).replace("."," ")).replace(","," ")).replace(":"," ");dynamicheader+='<th style="border: 1px solid #903f5f;color: #903f5f;text-align: center;padding: 2px;">'+f+"</th>"}}dynamicheader+='<th style="border: 1px solid #903f5f;color: #903f5f;text-align: center;padding: 2px;">Total 20%</th><th style="border: 1px solid #903f5f;color: #903f5f;text-align: center;padding: 2px;">Grade</th></tr>',$("#Summative_modal thead").append(dynamicheader),$("#Summative_modal tbody").append(dynamictbody);var h=[],b=$("#Summative_modal tbody tr ").length,v=(m=$("#Summative_modal tbody tr td").length)/b;$("#Summative_modal tbody tr").each(function(){var t=0;$("td",this).each(function(e,a){1!=e&&0!=e&&e!=v-1&&(h[t]||(h[t]=0),h[t]+=parseInt($(a).text()),t++)})});var y=0,g='<tr style="border: 1px solid #903f5f;color: #903f5f;text-align: center;padding: 2px;"><td style="border: 1px solid #903f5f;color: #903f5f;text-align: center;padding: 2px;" colspan=2>Total</td>';for(l=0;l<h.length;++l)g+='<td style="border: 1px solid #903f5f;color: #903f5f;text-align: center;padding: 2px;">'+h[l]+"</td>",y+=h[l];console.log(y);var x="";averagemarks=y/b;for(_=0;_<a.length;_++){a[_].student_name;from=a[_].mark_from,upto=a[_].mark_upto,averagemarks>=from&&averagemarks<=upto&&(x=a[_].name)}g+='<td style="border: 1px solid #903f5f;color: #903f5f;text-align: center;padding: 2px;">'+x+"</td></tr>",$("#total_grade").text(x),$("#working_days").text(n),$("#present_days").text(o),$("#total_working_days").text(n),$("#total_present_days").text(o),$("#Summative_modal tbody").append(g);var w='<tr style="border: 1px solid #903f5f;color: #903f5f;text-align: center;padding: 2px;"><td style="border: 1px solid #903f5f;color: #903f5f;text-align: center;padding: 2px;" colspan=2>Grade</td>';for(l=0;l<h.length;++l){u="";averagemarks=h[l]/b;for(_=0;_<a.length;_++){a[_].student_name;from=a[_].mark_from,upto=a[_].mark_upto,averagemarks>=from&&averagemarks<=upto&&(u=a[_].name)}w+='<td style="border: 1px solid #903f5f;color: #903f5f;text-align: center;padding: 2px;">'+u+"</td>"}w+='<td style="border: 1px solid #903f5f;color: #903f5f;text-align: center;padding: 2px;"></td></tr>',curriculam="",$("#co-curricular tbody").html("");for(l=0;l<e.length;l++){marksheetstr=e[l].otherexammarksheet,subjectmasrk=marksheetstr.split("="),json=JSON.parse(subjectmasrk[1]),r=Object.keys(json);m=0;for(k=0;k<r.length;k++){var j=(j=(j=(j=(j=(j=r[k].replace(/_/g," ")).replace("-","&")).replace("percentage","%")).replace("."," ")).replace(","," ")).replace(":"," ");curriculam+='<tr style="border: 1px solid #903f5f;color: #903f5f;text-align: center;padding: 2px;"><td style="border: 1px solid #903f5f;color: #903f5f;text-align: center;padding: 2px;">'+j+"</td>",curriculam+='<td style="border: 1px solid #903f5f;color: #903f5f;text-align: center;padding: 2px;">'+json[r[k]]+"</td>";u="";averagemarks=json[r[k]],m+=json[r[k]];for(_=0;_<a.length;_++){a[_].student_name;from=a[_].mark_from,upto=a[_].mark_upto,averagemarks>=from&&averagemarks<=upto&&(u=a[_].name)}curriculam+='<td style="border: 1px solid #903f5f;color: #903f5f;text-align: center;padding: 2px;">'+u+"</td><tr>"}averagemarks=m/_,totalgrade="";for(_=0;_<a.length;_++){a[_].student_name;from=a[_].mark_from,upto=a[_].mark_upto,averagemarks>=from&&averagemarks<=upto&&(totalgrade=a[_].name)}curriculam+='<tr style="border: 1px solid #903f5f;color: #903f5f;text-align: center;padding: 2px;"><td style="border: 1px solid #903f5f;color: #903f5f;text-align: center;padding: 2px;">TOTAL GRADE</td><td style="border: 1px solid #903f5f;color: #903f5f;text-align: center;padding: 2px;">'+m+'</td><td style="border: 1px solid #903f5f;color: #903f5f;text-align: center;padding: 2px;">'+totalgrade+"</td></tr>"}return $("#co-curricular tbody").append(curriculam),$("#Summative_modal tbody").append(w),$("#summativemarkseetmodal").modal("show"),!0}$(".tableshift tbody").append('<tr style="border: 1px solid #903f5f;color: #903f5f;text-align: center;padding: 2px;"><td style="border: 1px solid #903f5f;color: #903f5f;text-align: center;padding: 2px;" colspan="2">NO DATA FOUND<td></tr>')},error:function(){alert("error")}})}function convertNumberToWords(t){var e=new Array;e[0]="",e[1]="One",e[2]="Two",e[3]="Three",e[4]="Four",e[5]="Five",e[6]="Six",e[7]="Seven",e[8]="Eight",e[9]="Nine",e[10]="Ten",e[11]="Eleven",e[12]="Twelve",e[13]="Thirteen",e[14]="Fourteen",e[15]="Fifteen",e[16]="Sixteen",e[17]="Seventeen",e[18]="Eighteen",e[19]="Nineteen",e[20]="Twenty",e[30]="Thirty",e[40]="Forty",e[50]="Fifty",e[60]="Sixty",e[70]="Seventy",e[80]="Eighty",e[90]="Ninety";var a=(t=t.toString()).split(".")[0].split(",").join(""),n=a.length,o="";if(n<=9){for(var s=new Array(0,0,0,0,0,0,0,0,0),d=new Array,i=0;i<n;i++)d[i]=a.substr(i,1);i=9-n;for(var r=0;i<9;i++,r++)s[i]=d[r];for(i=0,r=1;i<9;i++,r++)0!=i&&2!=i&&4!=i&&7!=i||1==s[i]&&(s[r]=10+parseInt(s[r]),s[i]=0);value="";for(i=0;i<9;i++)value=0==i||2==i||4==i||7==i?10*s[i]:s[i],0!=value&&(o+=e[value]+" "),(1==i&&0!=value||0==i&&0!=value&&0==s[i+1])&&(o+="Crores "),(3==i&&0!=value||2==i&&0!=value&&0==s[i+1])&&(o+="Lakhs "),(5==i&&0!=value||4==i&&0!=value&&0==s[i+1])&&(o+="Thousand "),6==i&&0!=value&&0!=s[i+1]&&0!=s[i+2]?o+="Hundred and ":6==i&&0!=value&&(o+="Hundred ");o=o.split("  ").join(" ")}return o}function convertDateInWords(t){return temp_date=t.split("/"),temp_date[0]+" "+["January","February","March","April","May","June","July","August","September","October","November","December"][Number(temp_date[1])-1]+" "+temp_date[2]}function PrintElem(t){try{$(".asas").hide();var e=document.getElementById(t).innerHTML,a="Print"+(new Date).getTime(),n=window.open("",a,"left=50000,top=50000,width=0,height=0");n.document.write(e),n.document.close(),n.focus(),n.print(),$(".asas").show(),n.close()}catch(t){$(".asas").show(),self.print()}}function getexamcode(){exam_code=$("#exam_name option:selected").attr("data-value"),$("#exam_code").val(exam_code)}function changespecial_char(t){var e=t.replace(/ /g,"_");return e=(e=(e=(e=(e=e.replace("&","-")).replace("%","percentage")).replace(".","_")).replace(",","_")).replace(":","_")}function get_studentlist_attendance(){var t=$("#class_id").find(":selected").val(),e=$("#section_id_stop").find(":selected").val(),a=($("#class_id").find(":selected").text(),$("#section_id_stop").find(":selected").text(),$("#month_id").find(":selected").val()),n=$("#currentyear").find(":selected").val();return""==t?(alert("Please select Class"),!1):""==e?(alert("Please select section"),!1):void $.ajax({url:"/divinegraceschool/admin/getAdminStudentAttendanceReport",method:"GET",dataType:"json",data:{class_id:t,section_id:e,month_id:a,year:n},success:function(t){$("#student_attendance_table tbody").html(""),$("#student_attendance_table thead").empty(),days=moment(n+"-"+a,"YYYY-MM").daysInMonth();var e=t.student_attendance;if(void 0!=e){for(var o="<tr><td>Name  Day-></td>",s="<tr>",d=0;d<e.length;d++){s+="<td>"+e[d].name+"</td>";for(var i=1;i<=days;i++)if(0==d&&(o+="<td>"+i+"</td>"),flag=!1,void 0!=e[d].attendence){if(date=n+"-"+a+"-"+i,date=moment(date).format("YYYY-MM-DD"),stu_attendance=e[d].attendence,void 0!=stu_attendance)for(var r=0;r<stu_attendance.length;r++)status_date=stu_attendance[r].attendence_date,date==status_date&&(1==stu_attendance[r].status?s+='<td style="background:green">P</td>':2==stu_attendance[r].status&&(s+='<td style="background:red">A</td>'),flag=!0);0==flag&&(s+='<td style="background:White">&nbsp;</td>')}s+="</tr>"}o+="</tr>",$("#student_attendance_table thead").append(o),$("#student_attendance_table tbody").append(s),$("#attendance").show()}else $(".studentlistTable tbody").html(""),$(".studentlistTable tbody").append('<tr ><td colspan="8">NO DATA FOUND<td></tr>')},error:function(){alert("error")}})}function get_admin_student_attendance(t,e,a){t=t,e=e,a=a;var n=$("#month_id").val(),o=$("#currentyear").val();$.ajax({url:"/divinegraceschool/admin/get_admin_student_attendance",method:"GET",dataType:"json",data:{class_id:t,section_id:e,registration_id:a,month:n},success:function(t){$("#student_attendance_table tbody").html(""),$("#student_attendance_table thead").empty(),days=moment(o+"-"+n,"YYYY-MM").daysInMonth();for(var e=t.student_attendance,a="<tr>",s="<tr>",d=1;d<=days;d++){a+="<td>"+d+"</td>",date=o+"-"+n+"-"+d,date=moment(date).format("YYYY-MM-DD"),flag=!1;for(var i=0;i<e.length;i++)status_date=e[i].attendence_date,date==status_date&&(1==e[i].status?s+='<td style="background:green">P</td>':2==e[i].status&&(s+='<td style="background:red">A</td>'),flag=!0);0==flag&&(s+='<td style="background:White">&nbsp;</td>')}s+="</tr>",a+="</tr>",$("#student_attendance_table thead").append(a),$("#student_attendance_table tbody").append(s),$("#attendance").show()},error:function(){alert("error")}})}function get_teacherlist_attendance(){var t=$("#class_id").find(":selected").val(),e=$("#section_id_stop").find(":selected").val(),a=($("#class_id").find(":selected").text(),$("#section_id_stop").find(":selected").text(),$("#month_id").find(":selected").val()),n=$("#year").find(":selected").val();return""==t?(alert("Please select Class"),!1):""==e?(alert("Please select section"),!1):void $.ajax({url:"/divinegraceschool/admin/getAdminTeacherAttendanceReport",method:"GET",dataType:"json",data:{class_id:t,section_id:e,month_id:a,year:n},success:function(t){$("#student_attendance_table tbody").html(""),$("#student_attendance_table thead").empty(),days=moment(n+"-"+a,"YYYY-MM").daysInMonth();var e=t.teacher_attendance;if(void 0!=e){for(var o="<tr><td>Name  Day-></td>",s="<tr>",d=0;d<e.length;d++){s+="<td>"+e[d].name+"</td>";for(var i=1;i<=days;i++)if(0==d&&(o+="<td>"+i+"</td>"),flag=!1,void 0!=e[d].attendence){if(date=n+"-"+a+"-"+i,date=moment(date).format("YYYY-MM-DD"),stu_attendance=e[d].attendence,void 0!=stu_attendance)for(var r=0;r<stu_attendance.length;r++)status_date=stu_attendance[r].attendence_date,date==status_date&&(1==stu_attendance[r].status?s+='<td style="background:green">P</td>':2==stu_attendance[r].status&&(s+='<td style="background:red">A</td>'),flag=!0);0==flag&&(s+='<td style="background:White">&nbsp;</td>')}s+="</tr>"}o+="</tr>",$("#student_attendance_table thead").append(o),$("#student_attendance_table tbody").append(s),$("#attendance").show()}else $(".studentlistTable tbody").html(""),$(".studentlistTable tbody").append('<tr ><td colspan="8">NO DATA FOUND<td></tr>')},error:function(){alert("error")}})}function onteacherselect(t,e){$("#teacherid_"+e).val(t)}function checkteacherselect(t){if(value=$("#teacherid_"+t).val(),""==value||void 0==value)return alert("Please select teacher"),!1}function subject_check(t){"stud"==t?($("#stud").addClass("abc"),$("#teach").removeClass("abc")):"teach"==t&&($("#teach").addClass("abc"),$("#stud").removeClass("abc"))}function type_check(t){"1"==t?($("#accounting_term").show(),$("#accounting_type").show()):"2"==t&&($("#accounting_term").hide(),$("#accounting_type").hide())}$("#class_id").on("change",function(){var t=$(this).val();if(""==t)return alert("Please select class"),!1;$.ajax({url:"/divinegraceschool/admin/getSection",method:"GET",dataType:"json",data:{class_id:t},success:function(t){for(var e=t.section_list,a='<option value="">--Section--</option>',n=0;n<e.length;n++)a+='<option value="'+e[n].section_id+'">'+e[n].section_name+"</option>";return $("#section_id").html(""),$("#section_id").html(a),$("#class_routin_section").html(""),$("#class_routin_section").html(a),$("#homework_section_id").html(""),$("#homework_section_id").html(a),$("#exam_section_id").html(""),$("#exam_section_id").html(a),$("#section_id_stop").html(""),$("#section_id_stop").html(a),$("#section_id_stop2").html(""),$("#section_id_stop2").html(a),!1},error:function(){alert("error")}})}),$("#teacher_class_id").on("change",function(){var t=$(this).val();$.ajax({url:"/divinegraceschool/admin/getSection",method:"GET",dataType:"json",data:{class_id:t},success:function(t){for(var e=t.section_list,a='<option value="">-- Select Section --</option>',n=0;n<e.length;n++)a+='<option value="'+e[n].section_id+'">'+e[n].section_name+"</option>";return $("#teacher_section_id").html(""),$("#teacher_section_id").html(a),!1},error:function(){alert("error")}})}),$("#homework_section_id").on("change",function(){var t=$(this).val(),e=$("#class_id").val();return""==e?(alert("please select Class"),!1):""==t?(alert("please select Section"),!1):void $.ajax({url:"/divinegraceschool/admin/getSubject",method:"GET",dataType:"json",data:{class_id:e,section_id:t},success:function(t){var e=t.subject_list;if(e.length>0){$("#subjectTable tbody").html(""),$(".nodataerror").hide();for(var a=0;a<e.length;a++){var n=a+1;$("#subjectTable tbody").append("<tr><td>"+n+'</td><td><input type="hidden" Class="form_control" name="subject_name"  id="subject_name" value="'+e[a].name+'"> '+e[a].name+'</td><td><input type="hidden" Class="form_control" name="subject_id"  id="subject_id" value="'+e[a].subject_id+'"><input type="text" name="task_'+e[a].subject_id+'" id="task" class="form_control"><span for="task"  class="error below" style="display: none"></span></td><td><textarea class="form_control" name="task_description_'+e[a].subject_id+'" id="task_description" cols="50" rows="3"></textarea><span for="task_description"  class="error below" style="display: none"></span></td><td><input type="file" name="subject_file_'+e[a].subject_id+'" id="subject_file"></td></tr>')}$("#tableId").show()}else $("#tableId").hide(),$("#subjectTable tbody").html(""),$(".nodataerror").show();$("#day").prop("disabled",!1)},error:function(){alert("error")}})}),$("#section_id").on("change",function(){var t=$(this).val();if(void 0==(e=$("#class_id").val()))var e=$("#assignclassid").val();return""==e?(alert("please select Class"),!1):""==t?(alert("please select Section"),!1):void $.ajax({url:"/divinegraceschool/admin/getSubject",method:"GET",dataType:"json",data:{class_id:e,section_id:t},success:function(t){var e=t.subject_list;$("#subjectTable tbody").html("");for(var a=0;a<e.length;a++){var n=a+1;$("#subjectTable tbody").append("<tr><td>"+n+'</td><td><input type="hidden" Class="form_control" name="subject_name"  id="subject_name" value="'+e[a].name+'"> '+e[a].name+'</td><td><input type="hidden" Class="form_control" name="subject_id"  id="subject_id" value="'+e[a].subject_id+'"><input type="text" name="task_'+e[a].subject_id+'" id="task" class="form_control"><span for="task"  class="error below" style="display: none"></span></td><td><textarea class="form_control" name="task_description_'+e[a].subject_id+'" id="task_description" cols="50" rows="3"></textarea><span for="task_description"  class="error below" style="display: none"></span></td><td><input type="file" name="subject_file_'+e[a].subject_id+'" id="subject_file"></td></tr>')}return $("#tableId").show(),$("#day").prop("disabled",!1),!1},error:function(){alert("error")}})}),$('input[name="register"]').change(function(){var t=$(this).val();"student"==t?($("#teacher").hide(),$("#accountant").hide(),$("#student").show(),$("#librarian").hide(),$("#stud").addClass("abc"),$("#teach").removeClass("abc"),$("#acc").removeClass("abc"),$("#lib").removeClass("abc")):"teacher"==t?($("#teacher").show(),$("#accountant").hide(),$("#student").hide(),$("#librarian").hide(),$("#stud").removeClass("abc"),$("#teach").addClass("abc"),$("#acc").removeClass("abc"),$("#lib").removeClass("abc")):"accountant"==t?($("#teacher").hide(),$("#accountant").show(),$("#student").hide(),$("#librarian").hide(),$("#stud").removeClass("abc"),$("#teach").removeClass("abc"),$("#acc").addClass("abc"),$("#lib").removeClass("abc")):"librarian"==t&&($("#teacher").hide(),$("#accountant").hide(),$("#student").hide(),$("#librarian").show(),$("#stud").removeClass("abc"),$("#teach").removeClass("abc"),$("#acc").removeClass("abc"),$("#lib").addClass("abc"))}),$('input[name="attendence"]').change(function(){var t=$(this).val();"student"==t?($("#attendence_teacher").hide(),$("#attendence_student").show(),$("#teach").removeClass("abc"),$("#stud").addClass("abc")):(t="teacher")&&($("#attendence_teacher").show(),$("#attendence_student").hide(),$("#teach").addClass("abc"),$("#stud").removeClass("abc"))}),$('input[name="fees"]').change(function(){var t=$(this).val();"fees"==t?($("#transport_fees_detail").hide(),$("#fees_detail").show(),$("#trans").removeClass("abc"),$("#fees").addClass("abc")):(t="trans")&&($("#transport_fees_detail").show(),$("#fees_detail").hide(),$("#trans").addClass("abc"),$("#fees").removeClass("abc"))}),$(document).ready(function(){$("#myTable").DataTable({buttons:["copyHtml5","excelHtml5","csvHtml5","pdfHtml5"]}),$(".datatable").DataTable({dom:"Bfrtip",buttons:["copy","csv","excel","pdf","print"]});var t=(new Date).getDate();$(".attendence_date").datepicker({dateFormat:"dd-mm-yy",maxDate:new Date((new Date).setDate(t-730))}),$(".attendence_date1").datepicker({dateFormat:"dd-mm-yy"});t=(new Date).getDate();$(".calendar_date").datepicker({dateFormat:"dd-mm-yy",maxDate:new Date});t=(new Date).getDate();$(".future_calendar").datepicker({dateFormat:"dd-mm-yy"}),CKEDITOR.replace("descriptionteacher",{toolbar:[["Cut","Copy","Paste","PasteText","PasteFromWord","-","Undo","Redo"],"/",{name:"basicstyles",items:["Bold","Italic"]}]}),CKEDITOR.replace("descriptionparent",{toolbar:[["Cut","Copy","Paste","PasteText","PasteFromWord","-","Undo","Redo"],"/",{name:"basicstyles",items:["Bold","Italic"]}]}),CKEDITOR.replace("descriptionstudent",{toolbar:[["Cut","Copy","Paste","PasteText","PasteFromWord","-","Undo","Redo"],"/",{name:"basicstyles",items:["Bold","Italic"]}]}),$("#start_date").datepicker({dateFormat:"dd-mm-yy"}),$("#end_date").datepicker({dateFormat:"dd-mm-yy"}),CKEDITOR.replace("description")}),$("#addslider").click(function(){$("#app").append('<div class="clearfix"></div><div><div class="form-group row"><label for="exampleInputEmail2" class="col-sm-2 col-form-label" >Title</label><div class="col-sm-4"><input type="text" name="slider_title" class="form-control" placeholder="Enter Title"> </div><label for="exampleInputPassword2" class="col-sm-2 col-form-label">Slider Image</label> <div class="col-sm-4"> <input type="file" name="slider_image" class="form-control"></div></div><div class="clearfix"></div><div class="form-group row"><label for="exampleInputPassword2" class="col-sm-2 col-form-label">Description</label><div class="col-sm-10"><textarea class="form-control" name="slider_description" placeholder="Enter Slider Description" rows="8"></textarea></div></div><i class="fa fa-minus-circle remove" aria-hidden="true" id="removeButton" style="font-size:25px;margin-left: 15px;"></i></div>')}),$("#add_links").click(function(){$("#youtube_link").append('<div><div class="form-group row"><label for="exampleInputEmail2" class="col-sm-2 col-form-label">Youtube Link</label><div class="col-sm-4"><input type="text" name="youtube_link" class="form-control" placeholder="Enter Youtube Link"></div><i class="fa fa-minus-circle remove" aria-hidden="true" id="removeButton" style="font-size:25px;margin-left: 15px;"></i></div></div>')}),$("#columnlinks").click(function(){$("#coulmn_link").append('<div><div class="form-group" style="display: inline-block"><label for="sheetcolumn" class="col-sm-4 col-form-label">Add Column</label><div class="col-sm-7"><input type="text" name="column" class="form-control" placeholder="Enter Column name"></div><i class="fa fa-minus-circle remove" aria-hidden="true" id="removeButton" style="font-size:25px;margin-left: 15px;line-height: 35px;"></i></div></div>')}),$("#activitylinks").click(function(){$("#activity_link").append('<div><div class="form-group" style="display: inline-block"><label for="sheetcolumn" class="col-sm-4 col-form-label">Other Activity</label><div class="col-sm-7"><input type="text" name="activity_column" class="form-control" placeholder="Enter Other Acivity column name"></div><i class="fa fa-minus-circle remove" aria-hidden="true" id="removeButton" style="font-size:25px;margin-left: 15px;line-height: 35px;"></i></div></div>')}),$("body").on("click",".remove",function(){$(this).closest("div").remove()}),$("#exam_name").on("change",function(){"Others"==$(this).children(":selected").val()?$(".othername").show():$(".othername").hide()}),$("#exam_id").on("change",function(){$("#exam_code").val($("#exam_id option:selected").attr("data-value"))});